(()=>{var e={};e.id=480,e.ids=[480],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},45879:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>l});var r=t(50482),a=t(69108),o=t(62563),n=t.n(o),i=t(68300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let l=["",{children:["(DashboardLayout)",{children:["dashboards",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,18075)),"C:\\Users\\ce pc\\Desktop\\main\\src\\app\\(DashboardLayout)\\dashboards\\settings\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,34574)),"C:\\Users\\ce pc\\Desktop\\main\\src\\app\\(DashboardLayout)\\layout.jsx"],loading:[()=>Promise.resolve().then(t.bind(t,41610)),"C:\\Users\\ce pc\\Desktop\\main\\src\\app\\(DashboardLayout)\\loading.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,29759)),"C:\\Users\\ce pc\\Desktop\\main\\src\\app\\layout.jsx"],loading:[()=>Promise.resolve().then(t.bind(t,25536)),"C:\\Users\\ce pc\\Desktop\\main\\src\\app\\loading.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\ce pc\\Desktop\\main\\src\\app\\(DashboardLayout)\\dashboards\\settings\\page.jsx"],c="/(DashboardLayout)/dashboards/settings/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(DashboardLayout)/dashboards/settings/page",pathname:"/dashboards/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},375:(e,s,t)=>{Promise.resolve().then(t.bind(t,57318))},57318:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(95344),a=t(3729),o=t(22254),n=t(53608);let i=()=>{(0,o.useRouter)();let e=localStorage.getItem("adminId"),[s,t]=(0,a.useState)({username:"",email:"",password:"",confirmPassword:""}),[i,d]=(0,a.useState)(!0),[l,u]=(0,a.useState)(""),[c,p]=(0,a.useState)("");(0,a.useEffect)(()=>{e&&m()},[e]);let m=async()=>{try{d(!0);let s=await n.Z.get(`http://localhost/api/settings.php?id=${e}`);console.log(s.data.data),t(e=>({...e,username:s.data.data.username,email:s.data.data.email})),d(!1)}catch(e){u("Failed to fetch admin settings"),d(!1)}},x=e=>{let{name:s,value:r}=e.target;t(e=>({...e,[s]:r}))},h=async r=>{if(r.preventDefault(),s.password&&s.password!==s.confirmPassword){u("Passwords do not match");return}try{d(!0);let r={id:e,username:s.username,email:s.email};s.password&&(r.password=s.password),await n.Z.put("http://localhost/api/settings.php",r),p("Admin settings updated successfully"),t(e=>({...e,password:"",confirmPassword:""})),localStorage.setItem("adminUsername",s.username),d(!1)}catch(e){u("Failed to update admin settings"),d(!1)}};return i?r.jsx("div",{children:"Loading..."}):(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[r.jsx("h1",{className:"font-custom text-white text-4xl  leading-tight mb-4  uppercase relative after:content-[''] after:absolute after:-bottom-3 after:left-0 after:w-16 after:h-1",children:"Admin Settings"}),l&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),c&&r.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:c}),(0,r.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"username",className:"block mb-1",children:"Username:"}),r.jsx("input",{type:"text",id:"username",name:"username",value:s.username,onChange:x,className:"w-full px-3 py-3  bg-gray-800 rounded angular-cut",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block mb-1",children:"Email:"}),r.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:x,className:"w-full px-3 py-3  bg-gray-800 rounded angular-cut",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block mb-1",children:"New Password:"}),r.jsx("input",{type:"password",id:"password",name:"password",value:s.password,onChange:x,className:"w-full px-3 py-3  bg-gray-800 rounded angular-cut"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block mb-1",children:"Confirm New Password:"}),r.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:x,className:"w-full px-3 py-3  bg-gray-800 rounded angular-cut"})]}),r.jsx("button",{type:"submit",className:"angular-cut bg-primary text-white px-4 py-2  hover:bg-primary/50",children:"Update Settings"})]})]})}},18075:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>o,__esModule:()=>a,default:()=>n});let r=(0,t(86843).createProxy)(String.raw`C:\Users\ce pc\Desktop\main\src\app\(DashboardLayout)\dashboards\settings\page.jsx`),{__esModule:a,$$typeof:o}=r,n=r.default}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[648,416,190,977,299],()=>t(45879));module.exports=r})();