(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9230],{65531:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2265);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:l="",children:i,iconNode:c,...d},u)=>(0,a.createElement)("svg",{ref:u,...o,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:n("lucide",l),...d},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),i=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...o},i)=>(0,a.createElement)(l,{ref:i,iconNode:t,className:n(`lucide-${r(e)}`,s),...o}));return s.displayName=`${e}`,s}},77216:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(65531).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},99670:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(65531).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1295:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(65531).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},67972:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(65531).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},95258:function(e,t,s){Promise.resolve().then(s.bind(s,74286))},74286:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(57437),r=s(2265),n=s(16691),o=s.n(n),l=s(24033),i=s(77216),c=s(99670),d=e=>{let{label:t,type:s="text",icon:n,value:o,onChange:l}=e,[d,u]=(0,r.useState)(!0),[m,h]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"relative mb-4    text-white ",children:[(0,a.jsx)("input",{type:"password"===s?m?"text":"password":s,value:o,color:"white",placeholder:"Enter Your ".concat(t),onChange:l,onFocus:()=>u(!0),onBlur:()=>u(!0),className:"w-full bg-gray-800 text-white rounded-xl text-sm text-[10pt] angular-cut px-6 py-3 focus:outline-none focus:ring-2 focus:ring-black/20 peer"}),(0,a.jsx)("label",{className:"absolute transition-all text-[12pt] font-custom text-gray-300 leading-tight tracking-widest duration-200 pointer-events-none text-gray-400\n          ".concat(d||o?"-translate-y-7 top-5 left-4 text-xs rounded-md bg-gray-800 px-2":"text-base left-6 top-1/2 -translate-y-1/2"),children:t}),"password"===s?(0,a.jsx)("button",{type:"button",onClick:()=>h(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:m?(0,a.jsx)(i.Z,{size:20}):(0,a.jsx)(c.Z,{size:20})}):n?(0,a.jsx)(n,{size:20,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"}):null]})},u=s(67972),m=s(1295);function h(){let[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!0),w=(0,l.useRouter)();(0,r.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await fetch("".concat("http://localhost","/api/admin_setup.php")),t=await e.json();y(t.isEmpty)}catch(e){console.error("Error checking admin setup:",e)}},b=async t=>{t.preventDefault(),x(""),f(!0),console.log("Submitting:",{username:e,password:s,email:i});try{let t=await fetch(g?"".concat("http://localhost","/api/admin_setup.php"):"".concat("http://localhost","/api/login.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g?{username:e,password:s,email:i}:{username:e,password:s})}),a=await t.json();if(console.log("Server response:",a),!t.ok)throw Error(a.message||"HTTP error! status: ".concat(t.status));a.success||"Admin created successfully"===a.message?(console.log(a.message),g||(localStorage.setItem("adminSessionToken",a.session_token),localStorage.setItem("adminId",a.admin_id),localStorage.setItem("adminUsername",a.username)),w.push("/")):x(a.message||"Operation failed")}catch(e){console.error("Error:",e),x(e.message||"An error occurred. Please try again.")}finally{f(!1)}};return(0,a.jsxs)("div",{className:"relative min-h-screen flex flex-col md:flex-row",children:[(0,a.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,a.jsx)(o(),{src:"/images/freepik__a-gaming-character-with-a-sitting-at-a-violet-desk__75317.png",alt:"Background",layout:"fill",objectFit:"cover",priority:!0,className:"select-none"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-bl from-gray-900/95 via-gray-900/80 to-transparent"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-l from-gray-900/95 via-gray-900/80 to-transparent"})]}),(0,a.jsx)("div",{className:"relative z-10 w-full md:w-1/2 p-12 hidden md:flex flex-col justify-center",children:(0,a.jsxs)("div",{className:"space-y-4 max-w-xl",children:[(0,a.jsx)("div",{className:"mb-6 w-56",children:(0,a.jsx)(o(),{src:"https://moroccogamingexpo.ma/wp-content/uploads/2024/02/Logo-MGE-2025-white.svg",alt:"Travelzo",width:220,height:40,className:"w-full h-auto"})}),(0,a.jsxs)("h1",{className:"font-custom tracking-widest text-5xl font-bold text-white leading-tight",children:["Unleash the traveler",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-primary",children:"inside you"}),", Enjoy your",(0,a.jsx)("br",{}),"Dream Vacation"]}),(0,a.jsx)("p",{className:"text-gray-300 text-sm max-w-md",children:"Get started with the easiest and most secure website to buy travel tickets"})]})}),(0,a.jsxs)("div",{className:"relative z-10 w-full md:w-1/2 min-h-screen flex flex-col items-center justify-center px-6 py-8",children:[(0,a.jsx)("div",{className:"md:hidden w-48 mb-12",children:(0,a.jsx)(o(),{src:"https://moroccogamingexpo.ma/wp-content/uploads/2024/02/Logo-MGE-2025-white.svg",alt:"Travelzo",width:220,height:40,className:"w-full h-auto"})}),(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"space-y-3 mb-8 text-center md:text-left",children:[(0,a.jsxs)("h2",{className:"text-3xl sm:text-4xl md:text-5xl tracking-wider text-white font-custom leading-tight",children:["Log in to ",(0,a.jsx)("br",{}),"admin panel",(0,a.jsx)("span",{className:"text-primary",children:"."})]}),(0,a.jsx)("p",{className:"text-gray-500 text-sm sm:text-sm",children:"Get started with the easiest and most secure website to buy travel tickets"})]}),h&&(0,a.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:(0,a.jsx)("p",{className:"text-red-500 text-sm text-center",children:h})}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,a.jsx)(d,{label:"Username",icon:u.Z,value:e,onChange:e=>t(e.target.value)}),g&&(0,a.jsx)(d,{label:"Email",type:"email",icon:m.Z,value:i,onChange:e=>c(e.target.value)}),(0,a.jsx)(d,{label:"Password",type:"password",value:s,onChange:e=>n(e.target.value)}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-primary text-base sm:text-[12pt] text-white py-3 font-custom tracking-widest rounded-full hover:bg-primary/60 transition-colors mt-4 disabled:opacity-50 disabled:cursor-not-allowed",disabled:p,children:p?"Processing...":g?"Create Admin":"Login"})]})]})]})]})}},30622:function(e,t,s){"use strict";var a=s(2265),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var a,n={},c=null,d=null;for(a in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,a)&&!i.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:n,_owner:l.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},57437:function(e,t,s){"use strict";e.exports=s(30622)},24033:function(e,t,s){e.exports=s(15313)}},function(e){e.O(0,[6691,2971,4938,1744],function(){return e(e.s=95258)}),_N_E=e.O()}]);