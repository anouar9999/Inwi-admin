(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3480],{50820:function(e,a,s){Promise.resolve().then(s.bind(s,13291))},13291:function(e,a,s){"use strict";s.r(a);var t=s(57437),r=s(2265),n=s(24033),o=s(92173);a.default=()=>{(0,n.useRouter)();let e=localStorage.getItem("adminId"),[a,s]=(0,r.useState)({username:"",email:"",password:"",confirmPassword:""}),[l,i]=(0,r.useState)(!0),[d,c]=(0,r.useState)(""),[u,m]=(0,r.useState)("");(0,r.useEffect)(()=>{e&&p()},[e]);let p=async()=>{try{i(!0);let a=await o.Z.get("".concat("http://localhost","/api/settings.php?id=").concat(e));console.log(a.data.data),s(e=>({...e,username:a.data.data.username,email:a.data.data.email})),i(!1)}catch(e){c("Failed to fetch admin settings"),i(!1)}},f=e=>{let{name:a,value:t}=e.target;s(e=>({...e,[a]:t}))},h=async t=>{if(t.preventDefault(),a.password&&a.password!==a.confirmPassword){c("Passwords do not match");return}try{i(!0);let t={id:e,username:a.username,email:a.email};a.password&&(t.password=a.password),await o.Z.put("".concat("http://localhost","/api/settings.php"),t),m("Admin settings updated successfully"),s(e=>({...e,password:"",confirmPassword:""})),localStorage.setItem("adminUsername",a.username),i(!1)}catch(e){c("Failed to update admin settings"),i(!1)}};return l?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsxs)("div",{className:"container mx-auto p-4",children:[(0,t.jsx)("h1",{className:"font-custom text-white text-4xl  leading-tight mb-4  uppercase relative after:content-[''] after:absolute after:-bottom-3 after:left-0 after:w-16 after:h-1",children:"Admin Settings"}),d&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:d}),u&&(0,t.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:u}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"block mb-1",children:"Username:"}),(0,t.jsx)("input",{type:"text",id:"username",name:"username",value:a.username,onChange:f,className:"w-full px-3 py-3  bg-gray-800 rounded angular-cut",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block mb-1",children:"Email:"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:f,className:"w-full px-3 py-3  bg-gray-800 rounded angular-cut",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block mb-1",children:"New Password:"}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",value:a.password,onChange:f,className:"w-full px-3 py-3  bg-gray-800 rounded angular-cut"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block mb-1",children:"Confirm New Password:"}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:f,className:"w-full px-3 py-3  bg-gray-800 rounded angular-cut"})]}),(0,t.jsx)("button",{type:"submit",className:"angular-cut bg-primary text-white px-4 py-2  hover:bg-primary/50",children:"Update Settings"})]})]})}},30622:function(e,a,s){"use strict";var t=s(2265),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function d(e,a,s){var t,n={},d=null,c=null;for(t in void 0!==s&&(d=""+s),void 0!==a.key&&(d=""+a.key),void 0!==a.ref&&(c=a.ref),a)o.call(a,t)&&!i.hasOwnProperty(t)&&(n[t]=a[t]);if(e&&e.defaultProps)for(t in a=e.defaultProps)void 0===n[t]&&(n[t]=a[t]);return{$$typeof:r,type:e,key:d,ref:c,props:n,_owner:l.current}}a.Fragment=n,a.jsx=d,a.jsxs=d},57437:function(e,a,s){"use strict";e.exports=s(30622)},24033:function(e,a,s){e.exports=s(15313)}},function(e){e.O(0,[2173,2971,4938,1744],function(){return e(e.s=50820)}),_N_E=e.O()}]);