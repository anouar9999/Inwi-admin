(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7088],{8322:function(e,t,a){Promise.resolve().then(a.bind(a,56589))},53386:function(e,t,a){"use strict";var s=a(57437),r=a(2265);t.Z=e=>{let{messages:t=[]}=e,[a,n]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=setInterval(()=>{n(e=>(e+1)%t.length)},2e3);return()=>clearInterval(e)},[]),(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center  backdrop-blur-sm z-50",children:(0,s.jsxs)("div",{className:"text-center  p-8 rounded-xl",children:[(0,s.jsx)("div",{className:"inline-block",children:(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-t-blue-500 border-r-transparent border-b-blue-500 border-l-transparent rounded-full animate-spin"})}),(0,s.jsx)("p",{className:"mt-4 text-white text-2xl animate-pulse",children:t[a]})]})})}},98387:function(e,t,a){"use strict";var s=a(57437);a(2265);var r=a(65251);t.Z=e=>{let{text:t}=e,a={initial:{opacity:0},animate:{opacity:1}};return(0,s.jsxs)(r.E.div,{className:"fixed inset-0 flex flex-col items-center justify-center z-50",initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.3}}},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/70 backdrop-blur-md"}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"relative flex items-center justify-center w-36 h-36",children:[(0,s.jsx)(r.E.div,{className:"absolute w-56 h-56 border-9 border-white/20 rounded-full",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5}}),(0,s.jsx)(r.E.div,{className:"absolute w-56 h-56 border-t-9 border-l-8 border-primary rounded-full",variants:{animate:{rotate:360,transition:{repeat:1/0,duration:1.5,ease:"linear"}}},animate:"animate"}),(0,s.jsx)("img",{src:"https://moroccogamingexpo.ma/wp-content/uploads/2024/02/Logo-MGE-2025-white.svg",className:"w-64 h-64 z-10",alt:"Morocco Gaming Expo 2025"})]}),t&&(0,s.jsxs)(r.E.div,{className:"mt-16 flex items-center",variants:{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{delay:.3,duration:.5}},exit:{opacity:0,y:-20}},children:[(0,s.jsx)("p",{className:"text-4xl font-custom text-white tracking-wider",children:t}),(0,s.jsx)(r.E.div,{className:"flex ml-2",variants:{animate:{transition:{staggerChildren:.3}}},children:[0,1,2].map(e=>(0,s.jsx)(r.E.span,{className:"text-4xl text-white w-3 mx-1",variants:a,initial:"initial",animate:{opacity:[0,1,0],y:[0,-10,0],transition:{repeat:1/0,duration:1.5,delay:.2*e}},children:"."},e))})]})]})]})}},56589:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ej}});var s=a(57437),r=a(2265),n=a(24033),l=a(78063),i=a(61195),c=a(6141),o=a(74056),d=a(25750),m=a(23157),x=a(62442),h=a(82549),u=a(1295),p=a(8957),g=a(79676),f=a(49036),j=a(55340),b=a(49168),v=a(53386),w=a(42482),y=a(83523),N=a(34811),k=a(4689),_=a(41827),C=e=>{let{value:t,onChange:a,placeholder:n="Search participants..."}=e,[l,i]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 transition-colors duration-200 \n        ".concat(l?"text-blue-400":"text-gray-400"),children:(0,s.jsx)(_.Z,{className:"w-5 h-5"})}),(0,s.jsx)("input",{type:"text",value:t,onChange:e=>{a(e.target.value)},onFocus:()=>i(!0),onBlur:()=>i(!1),placeholder:n,className:"w-full pl-12 pr-10 py-3 bg-gray-800/80 text-white \n           outline-none transition-all duration-200\n          placeholder-gray-500  angular-cut\n         "}),t&&(0,s.jsx)("button",{onClick:()=>{a("")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 rounded-full   text-gray-400 hover:text-gray-300 hover:bg-gray-700/50   transition-colors duration-200",children:(0,s.jsx)(h.Z,{className:"w-4 h-4"})})]})},S=e=>{let{searchQuery:t,setSearchQuery:a,filterStatus:r,setFilterStatus:n,viewMode:l,setViewMode:i,profiles:c,showFilter:o,setShowFilter:d}=e;return(0,s.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,s.jsx)(C,{value:t,onChange:a}),(0,s.jsxs)("div",{className:"relative filter-dropdown",children:[(0,s.jsxs)("button",{onClick:()=>d(!o),className:"px-4 py-3 bg-gray-800/80 backdrop-blur-sm angular-cut flex items-center gap-2    hover:bg-gray-700/80 border border-gray-700/50 transition-all",children:[(0,s.jsx)(w.Z,{className:"w-5 h-5 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-300 capitalize",children:r}),(0,s.jsx)(y.Z,{className:"w-4 h-4 text-gray-400 transform transition-transform duration-200\n              ".concat(o?"rotate-180":"")})]}),o&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-gray-800/95 backdrop-blur-sm rounded-lg    shadow-xl border border-gray-700/50 z-50",children:["all","pending","accepted","rejected"].map(e=>{let t=c.filter(t=>"all"===e||t.status===e).length;return(0,s.jsxs)("button",{onClick:()=>{n(e),d(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-700/50 transition-colors\n                    flex items-center justify-between group\n                    ".concat(r===e?"text-blue-400":"text-gray-300"),children:[(0,s.jsx)("span",{className:"group-hover:translate-x-0.5 transition-transform",children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,s.jsx)("span",{className:"text-gray-500 text-sm",children:t})]},e)})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 border-l border-gray-700/50 pl-4",children:[(0,s.jsx)("button",{onClick:()=>i("grid"),className:"p-2 rounded transition-colors ".concat("grid"===l?"bg-blue-500/20 text-blue-400":"text-gray-400 hover:bg-gray-700/50"),children:(0,s.jsx)(N.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>i("list"),className:"p-2 rounded transition-colors ".concat("list"===l?"bg-blue-500/20 text-blue-400":"text-gray-400 hover:bg-gray-700/50"),children:(0,s.jsx)(k.Z,{className:"w-5 h-5"})})]})]})};a(12410);let Z={team:"data:image/svg+xml,".concat(encodeURIComponent('\n    <svg width="100%" height="100%" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <rect width="80" height="80" fill="#0F172A"/>\n      <path d="M0 0L80 80M80 0L0 80" stroke="#1E293B" stroke-width="1"/>\n      <g opacity="0.9">\n        <circle cx="25" cy="32" r="8" fill="#475569"/>\n        <path d="M17 45C17 41.134 20.134 38 24 38H26C29.866 38 33 41.134 33 45V48H17V45Z" fill="#475569"/>\n        <circle cx="40" cy="28" r="10" fill="#475569"/>\n        <path d="M30 44C30 39.582 33.582 36 38 36H42C46.418 36 50 39.582 50 44V48H30V44Z" fill="#475569"/>\n        <circle cx="55" cy="32" r="8" fill="#475569"/>\n        <path d="M47 45C47 41.134 50.134 38 54 38H56C59.866 38 63 41.134 63 45V48H47V45Z" fill="#475569"/>\n      </g>\n      <rect x="0" y="0" width="80" height="2" fill="#3B82F6" opacity="0.5"/>\n      <rect x="20" y="60" width="40" height="4" rx="2" fill="#3B82F6" opacity="0.3"/>\n    </svg>\n  ')),participant:"data:image/svg+xml,".concat(encodeURIComponent('\n    <svg width="100%" height="100%" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <rect width="80" height="80" fill="#0F172A"/>\n      <path d="M0 0L80 80M80 0L0 80" stroke="#1E293B" stroke-width="1"/>\n      <g opacity="0.9">\n        <circle cx="40" cy="30" r="12" fill="#475569"/>\n        <path d="M20 55C20 48.373 25.373 43 32 43H48C54.627 43 60 48.373 60 55V60H20V55Z" fill="#475569"/>\n      </g>\n      <rect x="0" y="0" width="80" height="2" fill="#6366F1" opacity="0.5"/>\n      <rect x="25" y="65" width="30" height="3" rx="1.5" fill="#6366F1" opacity="0.3"/>\n    </svg>\n  '))},E=e=>{let{profiles:t,onReview:a,onViewDetails:r}=e;return(0,s.jsx)("div",{className:"mt-8 bg-gray-800/50 backdrop-blur-sm rounded-lg border border-red-500/20",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-red-500/10",children:(0,s.jsx)(i.Z,{className:"w-5 h-5 text-red-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Refused Participants"}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[t.length," participants refused"]})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800/80 rounded-lg overflow-hidden border border-red-500/10 hover:border-red-500/30",children:[(0,s.jsxs)("div",{className:"flex items-center p-4 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e.avatar||"/api/placeholder/64/64",alt:e.name,className:"w-16 h-16 rounded-lg object-cover grayscale"}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-red-500 border-2 border-gray-800"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"text-white font-medium truncate",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-400 truncate",children:e.email}),(0,s.jsxs)("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[(0,s.jsx)(c.Z,{className:"w-3 h-3 mr-1"}),(0,s.jsxs)("span",{children:["Refused on ",new Date(e.registration_date).toLocaleDateString()]})]})]})]}),(0,s.jsxs)("div",{className:"px-4 pb-4 flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>a(e.id),className:"flex-1 py-2 rounded-lg bg-yellow-500/10 text-yellow-400    hover:bg-yellow-500/20 transition-colors text-sm",children:"Review Again"}),(0,s.jsx)("button",{onClick:()=>r(e),className:"px-3 py-2 rounded-lg bg-gray-700/50 text-gray-300   hover:bg-gray-700 transition-colors",children:(0,s.jsx)(o.Z,{className:"w-4 h-4"})})]})]},e.id))})]})})};var T=e=>{let{tournamentId:t}=e,[a,n]=(0,r.useState)([]),[o,w]=(0,r.useState)(!0),[y,N]=(0,r.useState)(null),[k,_]=(0,r.useState)(""),[C,T]=(0,r.useState)(!1),[M,L]=(0,r.useState)("pending"),[F,D]=(0,r.useState)(null),[B,z]=(0,r.useState)("grid"),[P,I]=(0,r.useState)(null),[V,H]=(0,r.useState)(""),[R,A]=(0,r.useState)("");(0,r.useCallback)(e=>{A(e)},[]);let O=async e=>{await G(e,"pending"),T(!1)},U=(0,r.useCallback)(async()=>{try{w(!0),I(null);let e=await fetch("".concat("http://localhost","/api/participants_registration.php?tournament_id=").concat(t)),a=await e.json();if(console.log(a),!e.ok)throw Error(a.message||"Failed to fetch");n(a.profiles||[])}catch(e){I(e.message),n([])}finally{w(!1)}},[t]),[W,q]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=e=>{W&&!e.target.closest(".filter-dropdown")&&q(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[W]),(0,r.useEffect)(()=>{U()},[U]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{H(k)},300);return()=>clearTimeout(e)},[k]);let J=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";D({message:e,type:t}),setTimeout(()=>D(null),3e3)},[]),G=async(e,t)=>{try{let a=await fetch("".concat("http://localhost","/api/update_registration_status.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registration_id:e,status:t,admin_id:localStorage.getItem("adminId")})}),s=await a.json();if(!a.ok)throw Error(s.message);n(a=>a.map(a=>a.id===e?{...a,status:t}:a)),J("Successfully ".concat(t," participant")),N(null)}catch(e){J(e.message,"error")}},{activeProfiles:Q,refusedProfiles:Y,filteredProfiles:X}=(0,r.useMemo)(()=>{let e=[...a];if("all"!==M&&(e=e.filter(e=>e.status===M)),k.trim()){let t=k.toLowerCase().trim();e=e.filter(e=>e.team_id?(e.team_name||"").toLowerCase().includes(t)||(e.owner_name||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t):(e.name||"").toLowerCase().includes(t)||(e.email||"").toLowerCase().includes(t))}return{activeProfiles:a.filter(e=>"rejected"!==e.status),refusedProfiles:a.filter(e=>"rejected"===e.status),filteredProfiles:e}},[a,M,k]),K=e=>{let{profile:t,viewType:a,onStatusUpdate:r}=e,{color:n}={pending:{color:"yellow",icon:c.Z},accepted:{color:"green",icon:m.Z},rejected:{color:"red",icon:i.Z}}[t.status],l="data:image/svg+xml,".concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400">\n      <rect width="400" height="400" fill="#1F2937"/>\n      <path d="M0 0 L400 400 M400 0 L0 400" stroke="#374151" stroke-width="2" opacity="0.2"/>\n      <circle cx="200" cy="200" r="150" fill="none" stroke="#374151" stroke-width="2" opacity="0.2"/>\n      <circle cx="200" cy="150" r="60" fill="#4B5563"/>\n      <path d="M200 230 C130 230 80 280 80 350 L320 350 C320 280 270 230 200 230" fill="#4B5563"/>\n      <circle cx="200" cy="200" r="180" fill="none" stroke="#6B7280" stroke-width="4" opacity="0.1"/>\n      <circle cx="200" cy="200" r="190" fill="none" stroke="#6B7280" stroke-width="2" opacity="0.1"/>\n    </svg>')),o="data:image/svg+xml,".concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400">\n      <rect width="400" height="400" fill="#1F2937"/>\n      <path d="M0 0 L400 400 M400 0 L0 400" stroke="#374151" stroke-width="2" opacity="0.2"/>\n      <circle cx="200" cy="200" r="150" fill="none" stroke="#374151" stroke-width="2" opacity="0.2"/>\n      <circle cx="160" cy="150" r="40" fill="#4B5563"/>\n      <path d="M160 200 C110 200 80 230 80 280 L240 280 C240 230 210 200 160 200" fill="#4B5563"/>\n      <circle cx="240" cy="150" r="40" fill="#4B5563"/>\n      <path d="M240 200 C190 200 160 230 160 280 L320 280 C320 230 290 200 240 200" fill="#4B5563"/>\n      <circle cx="200" cy="200" r="40" fill="#4B5563"/>\n      <path d="M200 250 C150 250 120 280 120 330 L280 330 C280 280 250 250 200 250" fill="#4B5563"/>\n      <circle cx="200" cy="200" r="180" fill="none" stroke="#6B7280" stroke-width="4" opacity="0.1"/>\n      <circle cx="200" cy="200" r="190" fill="none" stroke="#6B7280" stroke-width="2" opacity="0.1"/>\n    </svg>'));return(0,s.jsxs)("div",{className:"group relative h-48 angular-cut overflow-hidden cursor-pointer transform transition-all duration-300 hover:shadow-xl",onClick:()=>N(t),children:[(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-transform duration-300 group-hover:scale-110",style:{backgroundImage:'url("'.concat((()=>{let e="http://localhost";return t.team_id?t.team_image&&""!==t.team_image?"".concat(e).concat(t.team_image):o:t.avatar&&""!==t.avatar?"".concat(e).concat(t.avatar):l})(),'")')}}),(0,s.jsx)("div",{className:"absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-gray-900/90 to-transparent"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-gray-900/80 to-gray-900"})]}),t.team_id&&(0,s.jsxs)("div",{className:"absolute top-4 right-4 bg-blue-500/20 px-2 py-1 rounded-full flex items-center space-x-2",children:[(0,s.jsx)(d.Z,{size:14,className:"text-blue-400"}),(0,s.jsx)("span",{className:"text-xs font-medium text-white",children:"Team"})]}),t.team_id&&(0,s.jsx)(()=>(0,s.jsx)("div",{className:"absolute top-4 left-4 flex gap-2",children:"pending"===t.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),r(t.id,"accepted")},className:"p-2 rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 backdrop-blur-sm",children:(0,s.jsx)(x.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),r(t.id,"rejected")},className:"p-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 backdrop-blur-sm",children:(0,s.jsx)(h.Z,{className:"w-4 h-4"})})]})}),{}),(0,s.jsx)("div",{className:"absolute inset-0 p-4 flex flex-col justify-end",children:(0,s.jsxs)("div",{className:"transform transition-transform duration-300 translate-y-4 group-hover:translate-y-0",children:[(0,s.jsx)("h3",{className:"text-xl font-custom text-white leading-tight uppercase tracking-wider truncate",children:t.team_id?t.team_name:t.name}),t.team_id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-sm text-gray-300 mb-1",children:["Captain: ",t.owner_name]}),(0,s.jsxs)("p",{className:"text-sm text-blue-400 mb-3",children:[t.member_count," members"]})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-1 text-xs text-gray-300 mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"truncate",children:t.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:["Joined ",new Date(t.registration_date).toLocaleDateString()]})]})]})]})})]})};return o?(0,s.jsx)(v.Z,{messages:["Loading Users..."]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-5xl  text-white font-custom",children:"Registration Management"}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("p",{className:"text-gray-400",children:"Manage and review tournament registrations"})})]}),{}),(0,s.jsx)(()=>(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[{title:"Total Participants",value:a.length,icon:d.Z,color:"blue"},{title:"Pending Review",value:a.filter(e=>"pending"===e.status).length,icon:c.Z,color:"yellow"},{title:"Refused",value:Y.length,icon:i.Z,color:"red",onClick:()=>T(!C)}].map(e=>(0,s.jsx)("div",{onClick:e.onClick,className:"bg-gray-800/80 backdrop-blur-sm  p-6 angular-cut ".concat(e.onClick?"cursor-pointer hover:bg-gray-700/50 ":""),children:(0,s.jsxs)("div",{className:"flex justify-between items-start angular-cut",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400",children:e.title}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-white mt-1",children:e.value})]}),(0,s.jsx)("div",{className:"p-3 rounded-lg bg-".concat(e.color,"-500/20"),children:(0,s.jsx)(e.icon,{className:"text-".concat(e.color,"-400"),size:24})})]})},e.title))}),{}),(0,s.jsx)(S,{searchQuery:k,setSearchQuery:_,filterStatus:M,setFilterStatus:L,viewMode:B,setViewMode:z,profiles:a,showFilter:W,setShowFilter:q}),(0,s.jsx)("div",{className:"grid gap-4 ".concat("grid"===B?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"),children:X.map(e=>(0,s.jsx)(K,{profile:e},e.id))}),C&&(0,s.jsx)(E,{profiles:Y,onReview:O,onViewDetails:N}),(0,s.jsx)(()=>{if(!y)return null;let e=!!y.team_name,t={background:{primary:"bg-[#0F1623]",overlay:"bg-gray-800/10",backdrop:"backdrop-blur-md"},status:{success:{bg:"bg-green-500/10",text:"text-green-400",hover:"hover:bg-green-500/20"},error:{bg:"bg-red-500/10",text:"text-red-400",hover:"hover:bg-red-500/20"},warning:{bg:"bg-yellow-500/20",text:"text-yellow-400"},online:"bg-green-500",offline:"bg-gray-500"},text:{primary:"text-white",secondary:"text-gray-400",accent:"text-purple-400"},border:{ring:"ring-2 ring-gray-700/50",divider:"border-2 border-gray-900"}};return(0,s.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,s.jsx)("div",{className:"fixed inset-0 ".concat(t.background.backdrop)}),(0,s.jsx)("div",{className:"relative h-full overflow-y-auto",children:(0,s.jsx)("div",{className:"min-h-screen w-full py-8",children:(0,s.jsxs)("div",{className:"mx-auto w-full max-w-5xl ".concat(t.background.primary," rounded-2xl"),children:[(0,s.jsxs)("div",{className:"flex items-start gap-6 p-8",children:[(0,s.jsx)("div",{className:"relative flex-shrink-0",children:(0,s.jsx)("div",{className:"w-24 h-24 rounded-2xl overflow-hidden ".concat(t.border.ring),children:(0,s.jsx)("img",{src:e?y.team_image?"".concat("http://localhost").concat(y.team_image):Z.team:y.avatar?"".concat("http://localhost").concat(y.avatar):Z.participant,alt:e?y.team_name:y.name,className:"w-full h-full object-cover"})})}),(0,s.jsx)("div",{className:" relative flex-1",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-valorant ".concat(t.text.primary," mb-2"),children:e?y.team_name:y.name}),"pending"===y.status&&(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{onClick:()=>G(y.id,"accepted"),className:"flex items-center gap-2 px-6 py-2 text-lg tracking-wider font-custom ".concat(t.status.success.bg," ").concat(t.status.success.hover," ").concat(t.status.success.text," rounded-lg transition-all"),children:[(0,s.jsx)(x.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Accept Team"})]}),(0,s.jsxs)("button",{onClick:()=>G(y.id,"rejected"),className:"flex items-center gap-2 px-6 py-2 text-lg tracking-wider font-custom ".concat(t.status.error.bg," ").concat(t.status.error.hover," ").concat(t.status.error.text," rounded-lg transition-all"),children:[(0,s.jsx)(h.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Reject Team"})]})]})]}),(0,s.jsx)("div",{className:"absolute top-4 right-4 items-end"}),(0,s.jsx)("button",{onClick:()=>N(null),className:"p-2 hover:bg-gray-800/50 rounded-lg transition-colors ml-2 ".concat(t.text.secondary),children:(0,s.jsx)(h.Z,{className:"w-6 h-6"})})]})})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 px-8",children:(e?[{icon:p.Z,label:"MMR",value:y.mmr||"0",color:t.status.warning.text},{icon:g.Z,label:"Win Rate",value:"".concat(y.win_rate||0,"%"),color:t.status.success.text},{icon:d.Z,label:"Team Size",value:y.member_count||0,color:"text-blue-400"}]:[{icon:f.Z,label:"Status",value:y.is_verified?"Verified":"Unverified",color:"text-blue-400"},{icon:j.Z,label:"Points",value:y.points||"0",color:t.status.warning.text},{icon:c.Z,label:"Joined",value:new Date(y.registration_date).toLocaleDateString(),color:t.status.success.text}]).map((e,a)=>(0,s.jsxs)("div",{className:"flex flex-col items-center p-8 ".concat(t.background.overlay," rounded-xl"),children:[(0,s.jsx)(e.icon,{className:"w-8 h-8 ".concat(e.color," mb-4")}),(0,s.jsx)("span",{className:"text-4xl font-custom tracking-wider ".concat(t.text.primary," mb-2"),children:e.value}),(0,s.jsx)("span",{className:"text-2xl font-valorant  ".concat(t.text.secondary),children:e.label})]},a))}),e&&y.description&&(0,s.jsxs)("div",{className:"mt-8 p-8 bg-gray-900/50 rounded-xl backdrop-blur-sm",children:[(0,s.jsx)("h3",{className:"text-2xl tracking-wider font-custom text-white mb-2",children:"About Team"}),(0,s.jsx)("p",{className:"text-gray-400 font-pilot",children:y.description})]}),e&&y.members&&(0,s.jsxs)("div",{className:"space-y-4 px-8 py-8",children:[(0,s.jsx)("h2",{className:"text-2xl tracking-wider font-custom ".concat(t.text.primary),children:"Team Members"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.members.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 ".concat(t.background.overlay," rounded-xl"),children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e.avatar?"".concat("http://localhost").concat(e.avatar):"/api/placeholder/48/48",alt:e.name,className:"w-12 h-12 rounded-xl object-cover"}),e.name===y.owner_name&&(0,s.jsx)(b.Z,{className:"absolute -top-2 -right-2 w-5 h-5 ".concat(t.status.warning.text)})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-valorant ".concat(t.text.primary),children:e.name}),e.name===y.owner_name&&(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs ".concat(t.status.warning.bg," ").concat(t.status.warning.text," rounded"),children:"Captain"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)("span",{className:"text-sm ".concat(t.text.secondary),children:e.role||"Mid"}),(0,s.jsx)("span",{className:"text-sm ".concat(t.text.accent),children:e.rank||"Unranked"})]})]})]},a))})]})]})})})]})},{}),F&&(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,s.jsxs)("div",{className:"rounded-lg shadow-lg p-4 flex items-center space-x-3 \n            ".concat("success"===F.type?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:["success"===F.type?(0,s.jsx)(x.Z,{size:20}):(0,s.jsx)(l.Z,{size:20}),(0,s.jsx)("p",{children:F.message})]})})]})},M=a(92173),L=a(66701),F=a(67972);let D={pending:{color:"yellow",icon:c.Z,actions:["accept","reject"]},accepted:{color:"green",icon:m.Z,actions:[]},rejected:{color:"red",icon:i.Z,actions:["review"]}},B={team:"data:image/svg+xml,".concat(encodeURIComponent('\n    <svg width="100%" height="100%" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <rect width="80" height="80" fill="#0F172A"/>\n      <path d="M0 0L80 80M80 0L0 80" stroke="#1E293B" stroke-width="1"/>\n      <g opacity="0.9">\n        <circle cx="25" cy="32" r="8" fill="#475569"/>\n        <path d="M17 45C17 41.134 20.134 38 24 38H26C29.866 38 33 41.134 33 45V48H17V45Z" fill="#475569"/>\n        <circle cx="40" cy="28" r="10" fill="#475569"/>\n        <path d="M30 44C30 39.582 33.582 36 38 36H42C46.418 36 50 39.582 50 44V48H30V44Z" fill="#475569"/>\n        <circle cx="55" cy="32" r="8" fill="#475569"/>\n        <path d="M47 45C47 41.134 50.134 38 54 38H56C59.866 38 63 41.134 63 45V48H47V45Z" fill="#475569"/>\n      </g>\n      <rect x="0" y="0" width="80" height="2" fill="#3B82F6" opacity="0.5"/>\n      <rect x="20" y="60" width="40" height="4" rx="2" fill="#3B82F6" opacity="0.3"/>\n    </svg>\n  ')),participant:"data:image/svg+xml,".concat(encodeURIComponent('\n    <svg width="100%" height="100%" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <rect width="80" height="80" fill="#0F172A"/>\n      <path d="M0 0L80 80M80 0L0 80" stroke="#1E293B" stroke-width="1"/>\n      <g opacity="0.9">\n        <circle cx="40" cy="30" r="12" fill="#475569"/>\n        <path d="M20 55C20 48.373 25.373 43 32 43H48C54.627 43 60 48.373 60 55V60H20V55Z" fill="#475569"/>\n      </g>\n      <rect x="0" y="0" width="80" height="2" fill="#6366F1" opacity="0.5"/>\n      <rect x="25" y="65" width="30" height="3" rx="1.5" fill="#6366F1" opacity="0.3"/>\n    </svg>\n  '))},z=e=>{let{onClick:t,color:a,Icon:r,label:n,className:l=""}=e;return(0,s.jsx)("button",{onClick:t,className:"p-2 rounded-lg bg-".concat(a,"-500/20 text-").concat(a,"-400 hover:bg-").concat(a,"-500/30 backdrop-blur-sm shadow-[0_2px_10px_-3px_rgba(0,0,0,0.3)] ").concat(l),children:r?(0,s.jsx)(r,{className:"w-4 h-4"}):n})},P=e=>{let{status:t,onStatusUpdate:a,id:r,className:n=""}=e;return(0,s.jsxs)("div",{className:"flex gap-2 ".concat(n),children:["pending"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{onClick:e=>{e.stopPropagation(),a(r,"accepted")},color:"green",Icon:x.Z}),(0,s.jsx)(z,{onClick:e=>{e.stopPropagation(),a(r,"rejected")},color:"red",Icon:h.Z})]}),"rejected"===t&&(0,s.jsx)(z,{onClick:e=>{e.stopPropagation(),a(r,"pending")},color:"yellow",label:"Review"})]})},I=e=>{let{children:t,color:a="gray",className:r=""}=e;return(0,s.jsx)("div",{className:"px-2 py-1 text-xs font-medium rounded-full backdrop-blur-sm shadow-[0_2px_8px_-3px_rgba(0,0,0,0.3)] \n    ".concat("blue"===a?"bg-blue-500/20 text-blue-400":""," \n    ").concat("gray"===a?"bg-gray-900/50 text-gray-300":"","\n    ").concat(r),children:t})},V=e=>{let{status:t}=e;return(0,s.jsx)("span",{className:"px-2 py-1 text-xs z-40 font-medium capitalize bg-".concat(D[t].color,"-500/20 text-").concat(D[t].color,"-400 rounded-full backdrop-blur-sm shadow-[0_2px_8px_-3px_rgba(0,0,0,0.3)]"),children:t})},H=e=>{let{className:t=""}=e;return(0,s.jsx)("div",{className:"flex items-center gap-1 bg-gray-900/50 backdrop-blur-sm rounded-full px-2 py-1 shadow-[0_2px_8px_-3px_rgba(59,130,246,0.3)] ".concat(t),children:(0,s.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"})})},R=e=>{let{className:t=""}=e;return(0,s.jsx)(I,{color:"blue",className:t,children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.Z,{size:14,className:"text-blue-400"}),(0,s.jsx)("span",{children:"Team"})]})})},A=e=>{let{profile:t,viewType:a}=e,r=void 0!=t.team_id;return(console.log(r),"list"===a)?(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-1",children:[!r&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 text-gray-500"}),(0,s.jsx)("span",{className:"text-sm",children:t.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 text-gray-500"}),(0,s.jsxs)("span",{className:"text-sm",children:["Joined ",new Date(t.decision_date).toLocaleDateString()]})]})]}):r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-sm text-gray-300 mb-1",children:["Joined: ",new Date(t.decision_date).toLocaleDateString()]}),(0,s.jsx)("p",{className:"text-sm text-blue-400 mb-3",children:t.division})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-2 text-xs text-gray-300",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"truncate",children:t.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Joined ",new Date(t.decision_date).toLocaleDateString()]})]})]})};var O=e=>{let{profile:t,viewType:a="grid",onStatusUpdate:r,setSelectedProfile:n}=e,l=()=>{let e=void 0!=t.team_id,a=e?t.team_avatar:t.avatar;return(null==a?void 0:a.trim())?"".concat("http://localhost").concat(a):e?B.team:B.participant};return"list"===a?(0,s.jsxs)("div",{className:"group flex items-center gap-6 w-full angular-cut bg-gray-800/80 backdrop-blur-sm p-1.5 hover:bg-gray-700/80 transition-all duration-300  shadow-lg hover:shadow-xl",onClick:()=>n(t),children:[(0,s.jsx)("div",{className:"shrink-0",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:l(),alt:t.username,className:"w-12 h-12 object-cover angular-cut ring-2 ring-gray-700 group-hover:ring-blue-500 transition-all shadow-md"}),t.is_verified&&(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1",children:(0,s.jsx)(m.Z,{className:"w-5 h-5 text-blue-500 fill-gray-900 drop-shadow-md"})})]})}),(0,s.jsx)("div",{className:"flex-grow flex justify-between items-center gap-6",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-white",children:[null==t.team_id?t.username:t.team_name," "]}),(0,s.jsx)(V,{status:t.status})]}),(0,s.jsx)(A,{profile:t,viewType:a})]})})]}):(0,s.jsxs)("div",{className:"group relative h-36	 rounded   overflow-hidden cursor-pointer transform transition-all duration-300  shadow-lg hover:shadow-xl",children:[(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-transform duration-300 group-hover:scale-105",style:{backgroundImage:'url("'.concat(l(),'")')}}),(0,s.jsx)("div",{className:"absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-gray-900/90 to-transparent"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-gray-900/80 to-gray-900"})]}),(0,s.jsxs)("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[t.is_verified&&(0,s.jsx)(H,{}),(0,s.jsx)(V,{status:t.status})]}),(0,s.jsx)(P,{status:t.status,onStatusUpdate:r,id:t.id,className:"absolute top-4 left-4"}),void 0!=t.team_id&&(0,s.jsx)(R,{className:"absolute top-4 left-4"}),(0,s.jsxs)("div",{className:"absolute inset-0 p-2 flex flex-col justify-end",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsxs)("h3",{className:"text-xl font-custom text-white leading-tight uppercase tracking-wider truncate",children:[null==t.team_id?t.username:t.team_name," "]}),t.points>0&&(0,s.jsxs)("span",{className:"flex items-center gap-1 text-yellow-500 text-sm",children:[(0,s.jsx)(j.Z,{className:"w-4 h-4 fill-yellow-500"}),t.points]})]}),(0,s.jsx)(A,{profile:t,viewType:a})]})]})};let U=e=>{let{view:t,onViewChange:a}=e;return(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>a("grid"),className:"p-2 rounded ".concat("grid"===t?"bg-gray-700":"hover:bg-gray-800"),children:(0,s.jsx)(N.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>a("list"),className:"p-2 rounded ".concat("list"===t?"bg-gray-700":"hover:bg-gray-800"),children:(0,s.jsx)(k.Z,{className:"w-5 h-5"})})]})},W=()=>(0,s.jsxs)("div",{className:"col-span-full flex flex-col items-center justify-center py-12 px-4",children:[(0,s.jsx)("div",{className:"bg-gray-800/50 rounded-full p-6 mb-4",children:(0,s.jsx)(L.Z,{className:"w-12 h-12 text-gray-400"})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Aucun participant pour le moment"}),(0,s.jsx)("p",{className:"text-gray-400 text-center max-w-md",children:"Les participants accept\xe9s appara\xeetront ici. Revenez plus tard pour voir les mises \xe0 jour."})]});var q=e=>{let{tournamentId:t}=e,[a,n]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[o,m]=(0,r.useState)(null),[p,g]=(0,r.useState)("grid"),[b,w]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async()=>{try{i(!0);let e=await M.Z.get("".concat("http://localhost","/api/get_accepted_participants.php?tournament_id=").concat(t));e.data.success?(console.log(e.data),n(e.data.participants)):m(e.data.message)}catch(e){m("Failed to fetch participants. Please try again later."),console.error("Error fetching participants:",e)}finally{i(!1)}})()},[t]),l)?(0,s.jsx)(v.Z,{messages:["Loading..."]}):o?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[200px]",children:(0,s.jsxs)("div",{className:"text-red-500 text-center",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Une erreur est survenue"}),(0,s.jsx)("p",{className:"text-sm text-red-400",children:o})]})}):a&&0!==a.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"relative py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-5xl tracking-wide  text-white font-custom",children:"Accepted Participants"}),(0,s.jsxs)("p",{className:"text-gray-400 font-pilot mt-2 text-base",children:[a.length," participant",1!==a.length?"s":""," accepted"]})]})}),(0,s.jsx)(U,{view:p,onViewChange:g})]})}),(0,s.jsx)("div",{className:"grid"===p?"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-4 gap-6":"flex flex-col space-y-4",children:a.map(e=>(0,s.jsx)(O,{profile:e,viewType:p},e.registration_id))}),(0,s.jsx)(()=>{if(!b)return null;let e=[{icon:(0,s.jsx)(F.Z,{className:"w-5 h-5 text-gray-400"}),label:"Username",value:b.username,subValue:b.status},{icon:(0,s.jsx)(u.Z,{className:"w-5 h-5 text-gray-400"}),label:"Email",value:b.email,subValue:"Contact"},{icon:(0,s.jsx)(c.Z,{className:"w-5 h-5 text-gray-400"}),label:"Registration Date",value:new Date(b.registration_date).toLocaleDateString(),subValue:"Joined"},{icon:(0,s.jsx)(f.Z,{className:"w-5 h-5 text-gray-400"}),label:"Status",value:b.is_verified?"Verified":"Unverified",subValue:"Account Verification"},{icon:(0,s.jsx)(j.Z,{className:"w-5 h-5 text-gray-400"}),label:"Points",value:b.points||"0",subValue:"Achievement Score"},{icon:(0,s.jsx)(d.Z,{className:"w-5 h-5 text-gray-400"}),label:"Team",value:b.team_id?"Team Member":"Individual",subValue:b.team_id?"".concat(b.member_count," members"):"No Team"}],t={pending:"yellow",accepted:"green",rejected:"red"}[b.status];return(0,s.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-900/90 backdrop-blur-sm",children:(0,s.jsx)("div",{className:"min-h-screen px-4 text-center",children:(0,s.jsxs)("div",{className:"inline-block w-full max-w-4xl my-8 overflow-hidden text-left align-middle transition-all transform bg-gray-800 shadow-xl rounded-lg",children:[(0,s.jsxs)("div",{className:"relative h-48",children:[(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(".concat(b.avatar||"/api/placeholder/800/400",")")}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/80 to-transparent"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/90 to-transparent"})]}),(0,s.jsx)("button",{onClick:()=>w(null),className:"absolute top-4 right-4 p-2 rounded-full bg-gray-900/50 text-white hover:bg-gray-900/80 transition-all",children:(0,s.jsx)(h.Z,{size:20})})]}),(0,s.jsxs)("div",{className:"relative px-6 pb-6 -mt-12",children:[(0,s.jsxs)("div",{className:"flex items-start gap-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:b.avatar||"/api/placeholder/128/128",alt:b.name,className:"w-24 h-24 rounded-lg border-4 border-gray-800 object-cover"}),(0,s.jsx)("div",{className:"absolute -bottom-2 -right-2 w-4 h-4 rounded-full bg-".concat(t,"-500 border-2 border-gray-800")})]}),(0,s.jsx)("div",{className:"flex-1 pt-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-white",children:b.name}),(0,s.jsx)("p",{className:"text-gray-400 mt-1",children:b.email})]}),(0,s.jsx)("div",{className:"px-3 py-1.5 rounded-full bg-".concat(t,"-500/20 text-").concat(t,"-400"),children:(0,s.jsx)("span",{className:"text-sm font-medium capitalize",children:b.status})})]})})]}),(0,s.jsx)("div",{className:"mt-8 p-6 bg-gray-900/50 rounded-lg backdrop-blur-sm",children:(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[e.icon,(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:e.label})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-white",children:e.value}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.subValue})]})]},t))})}),"pending"===b.status&&(0,s.jsxs)("div",{className:"mt-6 flex gap-4",children:[(0,s.jsxs)("button",{onClick:()=>handleStatusUpdate(b.id,"accepted"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-colors",children:[(0,s.jsx)(x.Z,{size:20}),(0,s.jsx)("span",{children:"Accept"})]}),(0,s.jsxs)("button",{onClick:()=>handleStatusUpdate(b.id,"rejected"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",children:[(0,s.jsx)(h.Z,{size:20}),(0,s.jsx)("span",{children:"Reject"})]})]})]})]})})})},{})]}):(0,s.jsx)(W,{})},J=a(86646),G=a(98387),Q=a(63715),Y=a(9883),X=a(65251),K=a(62167),$=a(75418),ee=a(49804);p.Z,d.Z,f.Z,i.Z;var et=e=>{let{tournament:t,updateTournamentStatus:a}=e,[n,l]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null),o=async e=>{l(!0),c(null);try{await a(e)}catch(e){c("Failed to update tournament status. Please try again.")}finally{l(!1)}},d=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-2 w-full sm:w-auto",children:t})},m=e=>{let{onClick:t,className:a,children:r}=e;return(0,s.jsx)("button",{onClick:t,className:"px-2 sm:px-3 py-1 sm:py-2 text-xs sm:text-sm rounded-sm angular-cut \n        transition-all duration-300 flex items-center justify-center gap-1 sm:gap-2 \n        disabled:opacity-50 disabled:cursor-not-allowed ".concat(a),children:r})};return(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)(K.M,{mode:"wait",children:[i&&(0,s.jsx)(X.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mb-1 sm:mb-2",children:(0,s.jsx)(ee.Z,{severity:"error",action:(0,s.jsx)(X.E.button,{whileTap:{scale:.95},onClick:()=>c(null),className:"text-red-500 hover:text-red-600 text-xs sm:text-sm",children:"Dismiss"}),children:(0,s.jsx)("span",{className:"text-xs sm:text-sm",children:i})})}),(()=>{switch(t.status){case"En cours":return(0,s.jsxs)(X.E.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},className:"space-y-2 p-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-600",children:[(0,s.jsx)(p.Z,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-500"}),(0,s.jsx)("span",{className:"font-semibold text-xs sm:text-sm",children:"Matches in progress"})]}),(0,s.jsxs)(d,{children:[(0,s.jsx)(m,{onClick:()=>o("Termin\xe9"),className:"bg-red-500 text-white hover:bg-red-600",children:"End Tournament"}),(0,s.jsx)(m,{onClick:()=>o("Ouvert aux inscriptions"),className:"bg-yellow-500 text-white hover:bg-yellow-600",children:"Reopen Registrations"})]})]});case"Ouvert aux inscriptions":return(0,s.jsx)(X.E.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},className:"p-2",children:(0,s.jsx)($.Z,{title:"Start the tournament",placement:"top",children:(0,s.jsxs)(X.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o("En cours"),disabled:n,className:"w-full sm:w-auto angular-cut bg-gradient-to-r from-primary to-primary/50    text-white px-3 py-1 sm:py-2 rounded-lg flex items-center justify-center gap-1 sm:gap-2   transition-all duration-300 text-xs sm:text-sm   disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:[n?(0,s.jsx)(Q.Z,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin"}):(0,s.jsx)(Y.Z,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Start Tournament"]})})});case"Termin\xe9":return(0,s.jsx)(X.E.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},className:"p-2 bg-gradient-to-b from-gray-600/5 to-transparent rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-600",children:[(0,s.jsx)(p.Z,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),(0,s.jsx)("span",{className:"font-semibold text-xs sm:text-sm",children:"Tournament ended"})]})})}})()]})})},ea=a(54590);let es=e=>{let{updateTournamentStatus:t,tournamentId:a,title:l,backgroundSrc:i,startDate:c,endDate:o,tournament:d}=e,[m,x]=(0,r.useState)(!1),{slug:h}=(0,n.useParams)(),u=(0,n.useRouter)(),{showToast:p}=(0,J.pm)(),[g,f]=(0,r.useState)(!1),j=async()=>{if(window.confirm("Are you sure you want to delete this tournament? This action cannot be undone.")){f(!0);try{let e=await M.Z.post("".concat("http://localhost","/api/delete_tournament.php"),{tournament_id:a});e.data.success?(p(e.data.message,"success",1500),setTimeout(()=>{u.push("/dashboards/tournaments")},1500)):p(e.data.message,"error",5e3)}catch(e){console.error("Error:",e),alert("An error occurred while deleting the tournament.".concat(e))}finally{f(!1)}}};return g?(0,s.jsx)(G.Z,{}):(0,s.jsx)("div",{className:"relative w-full overflow-hidden bg-emerald-900 rounded-lg",children:(0,s.jsxs)("div",{className:"w-full pb-[40%] sm:pb-[30%] md:pb-[25%] lg:pb-[20%] relative",children:[(0,s.jsx)("img",{src:"".concat("http://localhost").concat(i),alt:"Tournament background",className:"absolute inset-0 w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black to-transparent"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-black to-transparent"}),(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-between p-2 sm:p-3",children:[(0,s.jsxs)("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-white font-custom",children:(0,s.jsxs)("div",{className:"text-base sm:text-lg md:text-xl lg:text-2xl tracking-wider break-words",children:[(0,s.jsxs)("span",{className:"text-primary",children:[d.nombre_maximum," / "]}),(0,s.jsxs)("span",{className:"break-words",children:[d.registered_count," ",d.participation_type>1?"".concat(d.participation_type,"s"):d.participation_type," ","registred"]})]})}),(0,s.jsxs)("div",{className:"text-white font-custom text-right flex items-center justify-end gap-3",children:[(0,s.jsx)(X.E.button,{className:"p-2 bg-blue-500 rounded-full text-white",initial:"initial",whileHover:"hover",onClick:()=>{u.push("/dashboards/edit-tournament/".concat(a))},whileTap:"tap",transition:{type:"spring",stiffness:400,damping:15},children:(0,s.jsxs)(X.E.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,s.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,s.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,s.jsx)(X.E.button,{className:"p-2 bg-red-500 rounded-full text-white",initial:"initial",whileHover:"hover",whileTap:"tap",onClick:j,transition:{type:"spring",stiffness:400,damping:15},children:(0,s.jsxs)(X.E.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,s.jsx)("path",{d:"M3 6h18"}),(0,s.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),(0,s.jsx)("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),(0,s.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,s.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 font-custom text-sm sm:text-base",children:(0,ea.p)(c)}),(0,s.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-valorant text-white leading-tight break-words",children:l})]}),(0,s.jsx)("div",{className:"w-full sm:w-auto",children:(0,s.jsx)(et,{tournament:d,updateTournamentStatus:t,className:"w-full sm:w-auto text-sm sm:text-base"})})]})]})]})})};var er=a(28582),en=a(43289),el=a(69102),ei=a.n(el),ec=a(68291),eo=a(17158),ed=e=>{let{seed:t,handleAdvanceClick:a}=e,[n,l]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1);if(!(1===t.teams.filter(e=>"TBD"!==e.name).length&&"SCHEDULED"===t.status))return null;let d=t.teams.find(e=>"TBD"!==e.name);return(0,s.jsxs)("div",{className:"absolute -right-4 top-1/2 -translate-y-1/2 z-50",onMouseEnter:()=>o(!0),onMouseLeave:()=>{o(!1),l(!1)},children:[(0,s.jsxs)("button",{onClick:e=>{if(!n){l(!0);return}let t=e.currentTarget,s=document.createElement("span"),r=Math.max(t.clientWidth,t.clientHeight);s.style.width=s.style.height="".concat(r,"px"),s.style.left="".concat(e.clientX-t.offsetLeft-r/2,"px"),s.style.top="".concat(e.clientY-t.offsetTop-r/2,"px"),s.classList.add("ripple");let i=t.getElementsByClassName("ripple")[0];i&&i.remove(),t.appendChild(s),a(e),l(!1)},"aria-label":"Advance team to next round",className:"jsx-4e0edfece1bb9a45 group relative flex items-center justify-center \r\n\n          rounded-full bg-primary shadow-lg hover:bg-primary/90 \r\n\n          focus:ring-2 focus:ring-primary/50 focus:outline-none\r\n\n          transform hover:scale-105 active:scale-95\r\n\n          transition-all duration-200 ease-out overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-4e0edfece1bb9a45 absolute inset-0 rounded-full opacity-0 \r\n\n          group-hover:opacity-100 transition-opacity duration-300",children:(0,s.jsx)("div",{className:"jsx-4e0edfece1bb9a45 absolute inset-0 rounded-full bg-primary/20 \r\n\n            animate-pulse"})}),n?(0,s.jsx)(ec.Z,{size:18,className:"text-white transform rotate-0 group-hover:rotate-45   transition-transform duration-200"}):(0,s.jsx)(eo.Z,{size:18,className:"text-white transform group-hover:translate-x-0.5   transition-transform duration-200"}),(0,s.jsx)("div",{className:"jsx-4e0edfece1bb9a45 absolute -right-1 top-1/2 -translate-y-1/2 w-2 h-px \r\n\n          bg-primary/50"}),(0,s.jsx)(ei(),{id:"4e0edfece1bb9a45",children:".ripple.jsx-4e0edfece1bb9a45{position:absolute;background:white;-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);-o-transform:scale(0);transform:scale(0);-webkit-animation:ripple.6s linear;-moz-animation:ripple.6s linear;-o-animation:ripple.6s linear;animation:ripple.6s linear;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;opacity:.4}@-webkit-keyframes ripple{to{-webkit-transform:scale(4);transform:scale(4);opacity:0}}@-moz-keyframes ripple{to{-moz-transform:scale(4);transform:scale(4);opacity:0}}@-o-keyframes ripple{to{-o-transform:scale(4);transform:scale(4);opacity:0}}@keyframes ripple{to{-webkit-transform:scale(4);-moz-transform:scale(4);-o-transform:scale(4);transform:scale(4);opacity:0}}"})]}),(0,s.jsxs)("div",{className:"absolute top-1/2 right-full -translate-y-1/2 mr-4\n        ".concat(i?"opacity-100 visible translate-x-0":"opacity-0 invisible translate-x-2","\n        transition-all duration-200 ease-out"),children:[(0,s.jsx)("div",{className:"relative bg-gray-800 rounded-lg shadow-xl border border-gray-700 min-w-[200px]",children:(0,s.jsx)("div",{className:"p-3 space-y-3",children:n?(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-amber-500",children:"Confirm Advance"}),(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:["Click again to advance ",d.name," to the next round"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"shrink-0 w-8 h-8 rounded-lg bg-primary/10    flex items-center justify-center",children:(0,s.jsx)(p.Z,{size:16,className:"text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-white",children:d.name}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Ready to advance"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,s.jsx)(c.Z,{size:12}),(0,s.jsx)("span",{children:"Click to initiate advance"})]})]})})}),(0,s.jsx)("div",{className:"absolute top-1/2 right-0 -translate-y-1/2 translate-x-full   border-8 border-transparent border-l-gray-800"})]})]})},em=e=>{let{tournamentId:t}=e,[a,n]=(0,r.useState)([]),[l,i]=(0,r.useState)(!1),[c,o]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[u,g]=(0,r.useState)(null),[f,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&w()},[t]);let w=async()=>{try{i(!0),o(null);let e=await fetch("".concat("http://localhost","/api/fetch_matches_bracket.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournament_id:t})}),a=await e.json();a.success?(j(a.data.is_team_tournament),y(a.data)):o(a.message||"Failed to load tournament data")}catch(e){console.error("Error fetching matches:",e),o("Failed to load tournament bracket")}finally{i(!1)}},y=e=>{var t;if(!(null==e?void 0:null===(t=e.matches)||void 0===t?void 0:t.length)){o("The bracket is not implemented yet");return}let a=e.total_rounds,s=[],r={};e.matches.forEach(e=>{let t=parseInt(e.round);r[t]||(r[t]=[]),r[t].push(e)}),Object.keys(r).forEach(e=>{r[e].sort((e,t)=>parseInt(e.position)-parseInt(t.position))});for(let e=0;e<a;e++){let t=r[e+1]||[],n=Math.pow(2,a-e-1);for(;t.length<n;)t.push({id:"empty-".concat(e,"-").concat(t.length),status:"SCHEDULED",position:t.length,teams:[{name:"TBD",score:0,winner:!1},{name:"TBD",score:0,winner:!1}]});s.push({title:N(e,a),seeds:t.map(e=>({id:e.id,status:e.status,teams:(e.teams||[{name:"TBD",score:0,winner:!1},{name:"TBD",score:0,winner:!1}]).map(e=>({...e,id:e.id||"team-".concat(Math.random())}))}))})}n(s)},N=(e,t)=>e===t-1?(0,s.jsx)("span",{className:"font-custom text-2xl ",children:"Finals"}):e===t-2?(0,s.jsx)("span",{className:"font-custom text-2xl ",children:"Semi Finals"}):e===t-3?(0,s.jsx)("span",{className:"font-custom text-2xl ",children:"Quarter Finals"}):e===t-4?(0,s.jsx)("span",{className:"font-custom text-2xl ",children:"Round of 16"}):e===t-5?(0,s.jsx)("span",{className:"font-custom text-2xl ",children:"Round of 32"}):"Round ".concat(e+1),k=async(e,t,a)=>{try{let s=await fetch("".concat("http://localhost","/api/update-match-score.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match_id:e,score1:t,score2:a})}),r=await s.json();if(r.success)return r.auto_progressed&&console.log("Match was automatically progressed"),await w(),!0;throw Error(r.message||"Failed to update score")}catch(e){return console.error("Error updating score:",e),!1}},_=e=>{var t,n;let{seed:l,roundIndex:i,seedIndex:c}=e,[o,d]=(0,r.useState)(!1),x=e=>!e.name||"TBD"===e.name;u&&l.teams.some(e=>e.name===u),l.teams.filter(e=>"TBD"!==e.name).length;let f=(e,t,a)=>{x(t)||"SCHEDULED"!=e.status||(h({id:e.id,teams:e.teams.map(e=>({id:e.id,name:e.name,avatar:e.avatar,score:e.score}))}),m(!0))},j=async e=>{e.preventDefault(),e.stopPropagation();let t=l.id;console.log("Advancing match:",t);try{let e=await fetch("".concat("http://localhost","/api/advance-winner.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match_id:t})}),a=await e.json();console.log("Response:",a),a.success&&w()}catch(e){console.error("Error:",e)}};return(0,s.jsx)(er.H3,{children:(0,s.jsxs)(er.xH,{children:[(0,s.jsx)("div",{className:"relative w-[240px]",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:l.teams.map((e,t)=>(0,s.jsx)("div",{className:"\n                  relative mb-0.5 last:mb-0 transition-all duration-300 ease-in-out\n                  ".concat(o&&!x(e)?"transform scale-[1.02]":"","\n                  ").concat(e.winner?"z-10":"z-0","\n                "),onMouseEnter:()=>!x(e)&&g(e.name),onMouseLeave:()=>g(null),onClick:()=>f(l,e,t),children:(0,s.jsxs)("div",{className:"\n                    flex items-center px-2.5 py-1.5 rounded\n                    ".concat(e.winner?"border-l-2 border-l-violet-500/50":"","\n                    ").concat(x(e)||"SCORE_DONE"===l.status?"":"cursor-pointer","\n                    ").concat(e.name===u?"bg-primary/50":x(e)?"bg-gray-800/50":"bg-[#1a1f2e] hover:bg-[#1e2538]","\n                    relative\n                  "),children:[e.avatar?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e.avatar,alt:e.name,className:"w-5 h-5 rounded-lg object-cover shrink-0 ring-1 ring-black/10"}),e.winner&&(0,s.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-yellow-400 rounded-full ring-1 ring-black/20"})]}):(0,s.jsx)("div",{className:"\n                      w-5 h-5 rounded-full flex items-center justify-center shrink-0\n                      ".concat(e.winner?"bg-gradient-to-br from-violet-500/20 to-violet-600/20 ring-1 ring-violet-500/30":"bg-gray-800","\n                    "),children:(0,s.jsx)("span",{className:"\n                        text-xs\n                        ".concat(e.winner?"text-white":"text-gray-400","\n                      "),children:x(e)?"?":e.name.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 min-w-0 flex-1 ml-2",children:[(0,s.jsx)("span",{className:"\n                      text-xs truncate flex-1\n                      ".concat(e.winner?"text-white font-medium":"text-gray-300/50","\n                      ").concat(x(e)?"italic text-gray-500":"","\n                      ").concat(o&&!x(e)?"text-gray-200":"","\n                    "),children:e.name}),e.winner&&!x(e)&&(0,s.jsx)(b.Z,{size:12,className:"\n                        shrink-0\n                        ".concat(o?"text-yellow-400":"text-yellow-500/80","\n                      ")})]}),(0,s.jsx)("span",{className:"\n                    text-xs min-w-[20px] text-right ml-2 font-medium\n                    ".concat(e.winner?"text-white":"text-gray-300/50","\n                    ").concat(o&&!x(e)?"text-gray-300":"","\n                  "),children:e.score||0})]})},e.id))}),(0,s.jsx)(ed,{seed:l,handleAdvanceClick:j}),l.teams.some(e=>e.winner)&&(null===(t=N(i,a.length).props)||void 0===t?void 0:t.children)==="Finals"&&(0,s.jsxs)("div",{className:"mt-3 relative group",children:[(0,s.jsxs)("div",{className:"absolute -left-2 -right-2 h-12 bg-gradient-to-r from-yellow-600/90 to-amber-500/90    shadow-lg transform hover:scale-[1.02] transition-all duration-300   flex items-center justify-between px-4   before:absolute before:left-0 before:top-full before:border-t-[8px] before:border-l-[8px]    before:border-t-yellow-800 before:border-l-transparent   after:absolute after:right-0 after:top-full after:border-t-[8px] after:border-r-[8px]    after:border-t-amber-800 after:border-r-transparent",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{size:16,className:"text-white group-hover:rotate-12 transition-transform duration-300"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-white text-xs font-medium uppercase tracking-wider",children:"Tournament"}),(0,s.jsx)("span",{className:"text-white text-sm font-bold",children:"Champion"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[(0,s.jsx)("span",{className:"text-yellow-100/80 text-xs",children:"Winner"}),(0,s.jsx)("span",{className:"text-white text-sm font-bold",children:null===(n=l.teams.find(e=>e.winner))||void 0===n?void 0:n.name})]}),(0,s.jsx)(b.Z,{size:18,className:"text-white animate-pulse"})]})]}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full   animate-shine"})]})]})})};return(0,s.jsx)("div",{className:"min-h-screen w-full",children:(0,s.jsx)("div",{className:"w-full h-full",children:l?(0,s.jsx)(v.Z,{messages:["Loading tournament bracket..."]}):c?(0,s.jsx)("div",{className:"min-h-[400px] flex items-center justify-center text-gray-400",children:c}):(0,s.jsxs)("div",{className:"w-full overflow-x-auto",children:[(0,s.jsx)(er.gG,{rounds:a,renderSeedComponent:e=>(0,s.jsx)(_,{...e,hoveredParticipant:u,setHoveredParticipant:g},"".concat(e.seedIndex,"-").concat(e.roundIndex)),roundClassName:"flex-none",lineColor:u?"rgba(75, 85, 99, 0.1)":"rgba(75, 85, 99, 0.2)",lineWidth:1}),(0,s.jsx)(()=>{let[e,t]=(0,r.useState)({score1:"",score2:""}),[a,n]=(0,r.useState)(""),[l,i]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{d||(t({score1:"",score2:""}),n(""))},[d]),!d||!x)return null;let c=async()=>{try{n(""),i(!0);let t=parseInt(e.score1),a=parseInt(e.score2);if(isNaN(t)||isNaN(a))throw Error("Please enter valid scores");if(t===a)throw Error("Scores cannot be equal");if(await k(x.id,t,a))m(!1);else throw Error("Failed to update match score")}catch(e){n(e.message)}finally{i(!1)}};return(0,s.jsxs)(en.Vq,{open:d,onClose:()=>m(!1),className:"relative z-50",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50"}),(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,s.jsxs)(en.Vq.Panel,{className:"mx-auto max-w-2xl w-full rounded-3xl bg-gray-800 p-8 shadow-xl",children:[(0,s.jsx)(en.Vq.Title,{className:"text-2xl font-bold text-white mb-6 text-center",children:"Enter Match Score"}),a&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:a}),(0,s.jsx)("div",{className:"flex justify-between items-center space-x-4",children:x.teams.map((e,t)=>{var a;return(0,s.jsxs)("div",{className:"flex-1 text-center",children:[(0,s.jsx)("div",{className:"relative inline-block",children:e.avatar?(0,s.jsx)("img",{src:e.avatar,alt:e.name,className:"w-20 h-20 rounded-[1.5rem] object-cover"}):(0,s.jsx)("div",{className:"w-20 h-20 rounded-[1.5rem] bg-gray-700 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-4xl text-gray-400",children:(null===(a=e.name)||void 0===a?void 0:a.charAt(0))||"?"})})}),(0,s.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:[f?"TEAM":"PLAYER"," ",t+1]}),(0,s.jsx)("p",{className:"font-semibold text-white",children:e.name})]},t)})}),(0,s.jsxs)("div",{className:"mt-8 flex justify-center gap-4",children:[(0,s.jsx)("input",{type:"number",value:e.score1,onChange:e=>t(t=>({...t,score1:e.target.value})),className:"w-16 h-12 bg-gray-700 text-white text-center text-2xl font-bold rounded",placeholder:"0"}),(0,s.jsx)("div",{className:"text-white text-3xl font-bold mx-2",children:":"}),(0,s.jsx)("input",{type:"number",value:e.score2,onChange:e=>t(t=>({...t,score2:e.target.value})),className:"w-16 h-12 bg-gray-700 text-white text-center text-2xl font-bold rounded",placeholder:"0"})]}),(0,s.jsx)("div",{className:"mt-8 flex justify-center",children:(0,s.jsx)("button",{onClick:c,disabled:l,className:"px-8 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 disabled:opacity-50",children:l?(0,s.jsx)(Q.Z,{className:"w-5 h-5 animate-spin"}):"Save Score"})})]})})]})},{})]})})})},ex=e=>{let{tournamentId:t}=e,[a,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(null),[c,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)({winners:[],losers:[],finals:[]});(0,r.useEffect)(()=>{t&&j()},[t]);let j=async()=>{try{n(!0),i(null);let e=await fetch("".concat("http://localhost","/api/fetch_matches_bracket.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournament_id:t})}),a=await e.json();a.success?(p(a.data.is_team_tournament),v(a.data)):i(a.message||"Failed to load tournament data")}catch(e){console.error("Error fetching matches:",e),i("Failed to load tournament bracket")}finally{n(!1)}},v=e=>{var t;if(!(null==e?void 0:null===(t=e.matches)||void 0===t?void 0:t.length)){i("The bracket is not implemented yet");return}let a=e.matches.filter(e=>"winners"===e.bracket_type),s=e.matches.filter(e=>"losers"===e.bracket_type),r=e.matches.filter(e=>"grand_finals"===e.bracket_type);f({winners:y(a,e.total_rounds,"Winners"),losers:w(s),finals:y(r,1,"Finals")})},w=e=>{let t=[],a={};e.forEach(e=>{let t=parseInt(e.round);t<=2&&(a[t]||(a[t]=[]),a[t].push(e))}),[1,2].forEach(e=>{let s=a[e]||[];s.sort((e,t)=>parseInt(e.position)-parseInt(t.position));let r=1===e?2:1,n=[...s];for(;n.length<r;)n.push({id:"empty-".concat(e,"-").concat(n.length),status:"SCHEDULED",teams:[{name:"TBD",score:0,winner:!1},{name:"TBD",score:0,winner:!1}]});t.push({title:"Losers Round ".concat(e),seeds:n.map(e=>({id:e.id,status:e.status,teams:(e.teams||[{name:"TBD",score:0,winner:!1},{name:"TBD",score:0,winner:!1}]).map(e=>({...e,id:e.id||"team-".concat(Math.random())}))}))})});let s=a[2]||[];if(s.length>0){var r;let e=(null===(r=s[0].teams)||void 0===r?void 0:r.find(e=>e.winner))||{name:"TBD",score:0};t.push({title:"Losers Winner",seeds:[{id:"loser-bracket-winner",teams:[{...e,id:e.id||"team-".concat(Math.random())}]}]})}return t},y=(e,t,a)=>{let s=[],r={};e.forEach(e=>{let t=parseInt(e.round);r[t]||(r[t]=[]),r[t].push(e)});for(let e=1;e<=t;e++){let n=r[e]||[];n.sort((e,t)=>parseInt(e.position)-parseInt(t.position));let l=Math.pow(2,t-e);for(;n.length<l;)n.push({id:"empty-".concat(e,"-").concat(n.length),status:"SCHEDULED",teams:[{name:"TBD",score:0,winner:!1},{name:"TBD",score:0,winner:!1}]});s.push({title:"".concat(a," Round ").concat(e),seeds:n.map(e=>({id:e.id,status:e.status,teams:(e.teams||[{name:"TBD",score:0,winner:!1},{name:"TBD",score:0,winner:!1}]).map(e=>({...e,id:e.id||"team-".concat(Math.random())}))}))})}let n=r[t]||[];if(n.length>0){var l;let e=(null===(l=n[0].teams)||void 0===l?void 0:l.find(e=>e.winner))||{name:"TBD",score:0};s.push({title:"".concat(a," Winner"),seeds:[{id:"winner-".concat(a),teams:[{...e,id:e.id||"team-".concat(Math.random())}]}]})}return s},N=async(e,t,a)=>{try{let s=await fetch("".concat("http://localhost","/api/update-match-score.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match_id:e,score1:t,score2:a})}),r=await s.json();if(r.success)return r.auto_progressed&&console.log("Match was automatically progressed"),await j(),!0;throw Error(r.message||"Failed to update score")}catch(e){return console.error("Error updating score:",e),!1}},k=e=>{let{seed:t,roundIndex:a,seedIndex:n}=e,[l,i]=(0,r.useState)(!1),c=e=>!e.name||"TBD"===e.name;if(1===t.teams.length){var d,u;return(0,s.jsx)(er.H3,{children:(0,s.jsx)(er.xH,{children:(0,s.jsx)("div",{className:"bg-[#1a1f2e] rounded p-2 relative",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[t.teams[0].avatar?(0,s.jsx)("img",{src:t.teams[0].avatar,alt:"",className:"w-6 h-6 rounded-full"}):(0,s.jsx)("div",{className:"w-6 h-6 bg-gray-700 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs text-gray-400",children:(null===(u=t.teams[0].name)||void 0===u?void 0:null===(d=u[0])||void 0===d?void 0:d.toUpperCase())||"?"})}),(0,s.jsx)("span",{className:"text-white font-medium",children:t.teams[0].name}),(0,s.jsx)(b.Z,{className:"w-4 h-4 text-yellow-500"})]})})})})}let p=(e,t)=>{c(t)||"SCHEDULED"!==e.status||(m({id:e.id,teams:e.teams.map(e=>({id:e.id,name:e.name,avatar:e.avatar,score:e.score}))}),o(!0))};return(0,s.jsx)(er.H3,{children:(0,s.jsx)(er.xH,{children:(0,s.jsx)("div",{className:"relative w-[240px]",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:t.teams.map((e,a)=>(0,s.jsx)("div",{className:"\n                  relative mb-0.5 last:mb-0 transition-all duration-300\n                  ".concat(l&&!c(e)?"transform scale-[1.02]":"","\n                  ").concat(e.winner?"z-10":"z-0","\n                "),onMouseEnter:()=>!c(e)&&h(e.name),onMouseLeave:()=>h(null),onClick:()=>p(t,e),children:(0,s.jsxs)("div",{className:"\n                  flex items-center px-2.5 py-1.5 rounded\n                  ".concat(e.winner?"border-l-2 border-l-violet-500/50":"","\n                  ").concat(c(e)||"SCORE_DONE"===t.status?"":"cursor-pointer","\n                  ").concat(e.name===x?"bg-primary/50":c(e)?"bg-gray-800/50":"bg-[#1a1f2e] hover:bg-[#1e2538]","\n                "),children:[(0,s.jsx)("div",{className:"\n                    w-5 h-5 rounded-full flex items-center justify-center shrink-0\n                    ".concat(e.winner?"bg-gradient-to-br from-violet-500/20 to-violet-600/20":"bg-gray-800","\n                  "),children:(0,s.jsx)("span",{className:"text-xs ".concat(e.winner?"text-white":"text-gray-400"),children:c(e)?"?":e.name.charAt(0).toUpperCase()})}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 min-w-0 flex-1 ml-2",children:[(0,s.jsx)("span",{className:"\n                      text-xs truncate flex-1\n                      ".concat(e.winner?"text-white font-medium":"text-gray-300/50","\n                      ").concat(c(e)?"italic":"","\n                    "),children:e.name}),e.winner&&(0,s.jsx)(b.Z,{size:12,className:"text-yellow-500/80"})]}),(0,s.jsx)("span",{className:"\n                    text-xs min-w-[20px] text-right ml-2 font-medium\n                    ".concat(e.winner?"text-white":"text-gray-300/50","\n                  "),children:e.score||0})]})},e.id))})})})};return(0,s.jsxs)("div",{className:"min-h-screen",children:[a?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(Q.Z,{className:"w-8 h-8 animate-spin text-primary"})}):l?(0,s.jsx)("div",{className:"min-h-[400px] flex items-center justify-center text-gray-400",children:l}):(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-8",children:[(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4 text-white",children:"Winners Bracket"}),(0,s.jsx)(er.gG,{rounds:g.winners,renderSeedComponent:k,roundClassName:"flex-none",lineColor:"rgba(75, 85, 99, 0.2)",lineWidth:1})]}),(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4 text-white",children:"Losers Bracket"}),(0,s.jsx)(er.gG,{rounds:g.losers,renderSeedComponent:k,roundClassName:"flex-none",lineColor:"rgba(75, 85, 99, 0.2)",lineWidth:1})]}),g.finals.length>0&&(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4 text-white",children:"Grand Finals"}),(0,s.jsx)(er.gG,{rounds:g.finals,renderSeedComponent:k,roundClassName:"flex-none",lineColor:"rgba(75, 85, 99, 0.2)",lineWidth:1})]})]}),(0,s.jsx)(()=>{let[e,t]=(0,r.useState)({score1:"",score2:""}),[a,n]=(0,r.useState)(""),[l,i]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{c||(t({score1:"",score2:""}),n(""))},[c]),!c||!d)return null;let m=async()=>{try{n(""),i(!0);let t=parseInt(e.score1),a=parseInt(e.score2);if(isNaN(t)||isNaN(a))throw Error("Please enter valid scores");if(t===a)throw Error("Scores cannot be equal");if(await N(d.id,t,a))o(!1);else throw Error("Failed to update match score")}catch(e){n(e.message)}finally{i(!1)}};return(0,s.jsxs)(en.Vq,{open:c,onClose:()=>o(!1),className:"relative z-50",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50"}),(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,s.jsxs)(en.Vq.Panel,{className:"mx-auto max-w-2xl w-full rounded-3xl bg-gray-800 p-8 shadow-xl",children:[(0,s.jsx)(en.Vq.Title,{className:"text-2xl font-bold text-white mb-6 text-center",children:"Enter Match Score"}),a&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:a}),(0,s.jsx)("div",{className:"flex justify-between items-center space-x-4",children:d.teams.map((e,t)=>{var a;return(0,s.jsxs)("div",{className:"flex-1 text-center",children:[(0,s.jsx)("div",{className:"relative inline-block",children:e.avatar?(0,s.jsx)("img",{src:e.avatar,alt:e.name,className:"w-20 h-20 rounded-[1.5rem] object-cover"}):(0,s.jsx)("div",{className:"w-20 h-20 rounded-[1.5rem] bg-gray-700 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-4xl text-gray-400",children:(null===(a=e.name)||void 0===a?void 0:a.charAt(0))||"?"})})}),(0,s.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:[u?"TEAM":"PLAYER"," ",t+1]}),(0,s.jsx)("p",{className:"font-semibold text-white",children:e.name})]},t)})}),(0,s.jsxs)("div",{className:"mt-8 flex justify-center gap-4",children:[(0,s.jsx)("input",{type:"number",value:e.score1,onChange:e=>t(t=>({...t,score1:e.target.value})),className:"w-16 h-12 bg-gray-700 text-white text-center text-2xl font-bold rounded",placeholder:"0"}),(0,s.jsx)("div",{className:"text-white text-3xl font-bold mx-2",children:":"}),(0,s.jsx)("input",{type:"number",value:e.score2,onChange:e=>t(t=>({...t,score2:e.target.value})),className:"w-16 h-12 bg-gray-700 text-white text-center text-2xl font-bold rounded",placeholder:"0"})]}),(0,s.jsx)("div",{className:"mt-8 flex justify-center",children:(0,s.jsx)("button",{onClick:m,disabled:l,className:"px-8 py-3 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 disabled:opacity-50",children:l?(0,s.jsx)(Q.Z,{className:"w-5 h-5 animate-spin"}):"Save Score"})})]})})]})},{})]})},eh=a(60519),eu=a(41298),ep=a(67405),eg=a(70612),ef=e=>{let{activeTab:t,onTabChange:a,tournament:n}=e,i=["Overview","Waiting List","Participants","Bracket"],[c,o]=(0,r.useState)(!1),m=e=>{let{icon:t,value:a,label:r}=e;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 md:gap-2",children:[t,(0,s.jsx)("span",{className:"text-sm md:text-xl font-valorant",children:a})]}),(0,s.jsx)("p",{className:"text-xs md:text-sm text-gray-400",children:r})]})},x=e=>{let{tab:r}=e;return(0,s.jsxs)("div",{className:"relative inline-block px-1 md:px-2",children:[(0,s.jsx)("svg",{width:"100",height:"32",viewBox:"0 0 100 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-auto",children:(0,s.jsx)("path",{d:"M6 0H87C90.5 0 93.5 1 95.5 3L100 7.5V27.5C100 30 98 32 95.5 32H13C9.5 32 6.5 31 4.5 29L0 24.5V4.5C0 2 2 0 4.5 0H6Z",fill:t===r?"#ff3d08":"transparent"})}),(0,s.jsx)("button",{onClick:()=>a(r),className:"absolute inset-0 flex items-center justify-center text-xs md:text-sm font-pilot \n          ".concat(t===r?"text-white":"text-gray-400"),children:(0,s.jsx)("span",{children:r})})]})};return(0,s.jsxs)("div",{className:"text-gray-300",children:[(0,s.jsx)("div",{className:"hidden md:flex space-x-2 lg:space-x-4 mb-4",children:i.map(e=>(0,s.jsx)(x,{tab:e},e))}),(0,s.jsxs)("div",{className:"md:hidden mb-4 relative",children:[(0,s.jsxs)("button",{onClick:()=>o(!c),className:"w-full bg-gray-800 p-2 rounded-lg flex justify-between items-center text-sm",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)(y.Z,{className:"w-4 h-4 transform transition-transform ".concat(c?"rotate-180":"")})]}),c&&(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 bg-gray-800 mt-1 rounded-lg overflow-hidden z-10",children:i.map(e=>(0,s.jsx)("button",{onClick:()=>{a(e),o(!1)},className:"w-full p-2 text-left text-sm ".concat(t===e?"bg-primary text-white":"hover:bg-gray-700"),children:e},e))})]}),(0,s.jsx)("div",{className:"bg-gray-900 p-3 md:p-6 rounded-lg",children:(()=>{if("En cours"===n.status&&"Overview"!==t&&"Participants"!==t&&"Bracket"!==t)return(0,s.jsxs)("div",{className:"p-4 md:p-6 rounded-lg text-center",children:[(0,s.jsx)(eh.Z,{className:"mx-auto w-8 h-8 md:w-12 md:h-12 mb-4"}),(0,s.jsx)("h3",{className:"text-xl md:text-2xl font-bold mb-2 md:mb-4",children:"Tournament In Progress"}),(0,s.jsx)("p",{className:"text-xs md:text-sm",children:"The tournament is currently in progress. Some features may be limited until the tournament ends."})]});switch(t){case"Overview":return(0,s.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 md:gap-6",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/2 text-white rounded-lg p-3 md:p-4",children:[(0,s.jsxs)("h3",{className:"font-custom text-white leading-tight uppercase tracking-wider text-xl md:text-3xl mb-2 md:mb-4 flex items-center",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4 md:w-5 md:h-5 mr-2 text-primary"}),"About the tournament"]}),(0,s.jsx)("p",{className:"text-xs md:text-sm",children:n.description_des_qualifications})]}),(0,s.jsx)("div",{className:"w-full md:w-1/2 rounded-lg p-3 md:p-4 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-6",children:[(0,s.jsx)(m,{icon:(0,s.jsx)(eu.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),value:"".concat(n.prize_pool," DH"),label:"Prize Pool"}),(0,s.jsx)(m,{icon:(0,s.jsx)(ep.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),value:n.type_de_match,label:"Format"}),(0,s.jsx)(m,{icon:(0,s.jsx)(d.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),value:n.nombre_maximum,label:"Players"}),(0,s.jsx)(m,{icon:(0,s.jsx)(eg.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),value:n.type_de_jeu,label:"Platform"}),(0,s.jsx)(m,{icon:(0,s.jsx)(p.Z,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),value:n.format_des_qualifications,label:"Type"})]})})]}),(0,s.jsxs)("div",{className:"p-3 md:p-4 rounded-lg w-full text-gray-400 text-xs md:text-sm space-y-2 md:space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xl md:text-3xl font-custom text-white leading-tight uppercase tracking-wider mb-2 md:mb-4 flex items-center",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4 md:w-5 md:h-5 mr-2 text-primary"}),"Tournament Rules"]}),n.rules.split("\n").map((e,t)=>(0,s.jsx)("p",{className:"text-xs md:text-sm",children:e},t))]})]});case"Waiting List":return(0,s.jsx)(T,{tournamentId:n.id});case"Participants":return(0,s.jsx)(q,{tournamentId:n.id});case"Bracket":return"Single Elimination"===n.format_des_qualifications?(0,s.jsx)(em,{tournamentId:n.id,isTeamTournament:"team"===n.participation_type}):(0,s.jsx)(ex,{tournamentId:n.id});default:return(0,s.jsxs)("p",{className:"text-center text-gray-400",children:["Content for ",t]})}})()})]})},ej=()=>{let[e,t]=(0,r.useState)("Overview"),[a,i]=(0,r.useState)(null),[c,o]=(0,r.useState)(!0),[d,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)("green"),[j,b]=(0,r.useState)(!1),{showToast:w}=(0,J.pm)(),{slug:y}=(0,n.useParams)();(0,n.useRouter)(),(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("http://localhost","/api/single_tournament.php?slug=").concat(y)),t=await e.json();t.success?(i(t.tournament),console.log(t.tournament)):h(t.error||"Failed to fetch tournament data")}catch(e){console.error("Error:",e),h("An error occurred while fetching tournament data")}finally{o(!1)}})()},[y]),(0,r.useEffect)(()=>{let e;return u&&(e=setTimeout(()=>p(!1),1200)),()=>clearTimeout(e)},[u]);let N=async e=>{var t,s,r;try{m(!1);let s=await M.Z.post("".concat("http://localhost","/api/generate_matches.php"),{tournament_id:e,isTeamTournament:"team"===a.participation_type});if(s.data.success){let e=(null===(t=s.data.data[0])||void 0===t?void 0:t.nombre_maximum)||8,a=s.data.data.map(e=>({id:e.id,round:parseInt(e.round),player1:{id:e.player1_id,name:e.player1_name||"TBD",avatar:e.player1_avatar},player2:{id:e.player2_id,name:e.player2_name||"TBD",avatar:e.player2_avatar},score1:parseInt(e.score1)||0,score2:parseInt(e.score2)||0,status:e.status,match_date:e.match_date}));return{success:!0,data:a,rounds:Math.ceil(Math.log2(e))}}return{success:!1,error:"Failed to generate matches"}}catch(e){return console.error("Error generating matches:",e),{success:!1,error:(null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)||"Error generating matches"}}finally{m(!1)}},k=async e=>{m(!0);try{let t=await fetch("".concat("http://localhost","/api/update_tournament_status.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournament_id:a.id,new_status:e})});(await t.json()).success&&(await N(a.id),f("En cours"===e?"green":"red"),p(!0),i({...a,status:e}))}catch(e){console.error("Error:",e),m(!1)}};return d?(0,s.jsx)(v.Z,{messages:["Loading your content...","Generating matches...","Creating bracket...","Almost there..."]}):c?(0,s.jsx)("div",{className:"text-white",children:(0,s.jsx)(v.Z,{messages:["Loading your content..."]})}):x?(0,s.jsxs)("div",{className:"text-red-500 text-center ",children:[(0,s.jsx)(l.Z,{})," Error: ",x]}):a?(0,s.jsxs)("div",{className:"relative flex flex-col gap-8  text-white p-2 rounded-lg",children:[(0,s.jsxs)("div",{className:"fixed inset-0 z-[999] pointer-events-none transition-opacity duration-1000 ".concat(u?"opacity-100":"opacity-0"),children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 h-24 bg-gradient-to-b ".concat("green"===g?"from-green-500 via-green-500/20":"from-red-500 via-red-500/20"," to-transparent")}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t ".concat("green"===g?"from-green-500 via-green-500/20":"from-red-500 via-red-500/20"," to-transparent")}),(0,s.jsx)("div",{className:"absolute top-0 bottom-0 left-0 w-24 bg-gradient-to-r ".concat("green"===g?"from-green-500 via-green-500/20":"from-red-500 via-red-500/20"," to-transparent")}),(0,s.jsx)("div",{className:"absolute top-0 bottom-0 right-0 w-24 bg-gradient-to-l ".concat("green"===g?"from-green-500 via-green-500/20":"from-red-500 via-red-500/20"," to-transparent")})]}),(0,s.jsx)("div",{className:"transition-all duration-300 gap-2 ease-in-out ".concat("Overview"!==e?"lg:w-full lg:opacity-0 lg:overflow-hidden":"lg:w-full lg:opacity-100"),children:"Overview"===e&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(es,{spots_remaining:a.spots_remaining,tournamentId:a.id,title:a.nom_des_qualifications,backgroundSrc:a.image,startDate:a.start_date,endDate:a.end_date,tournament:a,updateTournamentStatus:k})})}),(0,s.jsx)("div",{className:"transition-all duration-300 ease-in-out ".concat("lg:w-full"),children:(0,s.jsx)(ef,{activeTab:e,onTabChange:t,tournament:a})})]}):(0,s.jsx)("div",{className:"text-white",children:"No tournament found."})}},86646:function(e,t,a){"use strict";a.d(t,{pm:function(){return h}});var s=a(57437),r=a(69102),n=a.n(r),l=a(2265),i=a(74530),c=a(78063),o=a(74056),d=a(82549);let m=(0,l.createContext)(null),x=e=>{let{message:t,type:a="success",duration:r=3e3,onClose:m}=e,[x,h]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!1);(0,l.useEffect)(()=>{requestAnimationFrame(()=>{h(!0)});let e=setTimeout(()=>{p(!0),setTimeout(()=>{h(!1),null==m||m()},300)},r);return()=>clearTimeout(e)},[r,m]);let g={success:(0,s.jsx)(i.Z,{className:"w-5 h-5 text-green-400"}),error:(0,s.jsx)(c.Z,{className:"w-5 h-5 text-red-400"}),info:(0,s.jsx)(o.Z,{className:"w-5 h-5 text-blue-400"})};return!x&&u?null:(0,s.jsxs)("div",{className:"jsx-e6a30760d71ca89 "+"\n        flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg\n        transform transition-all duration-300 ease-out\n        ".concat(x?"translate-x-0 opacity-100":"translate-x-full opacity-0","\n        ").concat(u?"translate-x-full opacity-0":"","\n        ").concat("success"===a?"bg-green-900/90":"","\n        ").concat("error"===a?"bg-red-900/90":"","\n        ").concat("info"===a?"bg-blue-900/90":"","\n        backdrop-blur-sm border border-white/10\n        mb-2 relative overflow-hidden\n        w-full max-w-sm\n      "),children:[(0,s.jsx)("div",{style:{width:"100%",animation:"shrink ".concat(r,"ms linear")},className:"jsx-e6a30760d71ca89 "+"\n          absolute bottom-0 left-0 h-1\n          ".concat("success"===a?"bg-green-400":"","\n          ").concat("error"===a?"bg-red-400":"","\n          ").concat("info"===a?"bg-blue-400":"","\n        ")}),g[a],(0,s.jsx)("p",{className:"jsx-e6a30760d71ca89 text-gray-100 font-medium",children:t}),(0,s.jsx)("button",{onClick:()=>{p(!0),setTimeout(()=>{h(!1),null==m||m()},300)},className:"jsx-e6a30760d71ca89 ml-auto text-gray-400 hover:text-gray-200 transition-colors",children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})}),(0,s.jsx)(n(),{id:"e6a30760d71ca89",children:"@-webkit-keyframes shrink{from{width:100%}to{width:0%}}@-moz-keyframes shrink{from{width:100%}to{width:0%}}@-o-keyframes shrink{from{width:100%}to{width:0%}}@keyframes shrink{from{width:100%}to{width:0%}}"})]})},h=()=>{let e=(0,l.useContext)(m);if(!e)throw Error("useToast must be used within a ToastProvider");return e};t.ZP=e=>{let{children:t}=e,[a,r]=(0,l.useState)([]),n=e=>{r(t=>t.filter(t=>t.id!==e))};return(0,s.jsxs)(m.Provider,{value:{showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,s=Math.random().toString(36);return r(r=>[...r,{id:s,message:e,type:t,duration:a}]),s},hideToast:n},children:[t,(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 flex flex-col items-end gap-2",children:a.map(e=>(0,s.jsx)(x,{message:e.message,type:e.type,duration:e.duration,onClose:()=>n(e.id)},e.id))})]})}},54590:function(e,t,a){"use strict";a.d(t,{n:function(){return r},p:function(){return s}});let s=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),r={valorant:{title:"Valorant",image:"https://www.riotgames.com/darkroom/1440/8d5c497da1c2eeec8cffa99b01abc64b:5329ca773963a5b739e98e715957ab39/ps-f2p-val-console-launch-16x9.jpg"},freeFire:{title:"Free Fire",image:"https://asset-2.tstatic.net/toraja/foto/bank/images/05082023_Free_Fire_2.jpg"},StreetFighter:{title:"Street Fighter",image:"https://mms.businesswire.com/media/20230122005015/fr/1692292/5/p1-1.jpg"},FcFootball:{title:"Fc Football",image:"https://e.sport.fr/wp-content/uploads/2023/07/2x1_NSwitch_EaSportsFc24_image1600w.jpg"}}}},function(e){e.O(0,[846,9102,3083,9036,2173,6659,4368,4222,1136,9337,2971,4938,1744],function(){return e(e.s=8322)}),_N_E=e.O()}]);